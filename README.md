# ìœ í¬ì™• ì¹´ë“œ ê°€ê²© ë¹„êµ í”„ë¡œì íŠ¸

ì´ í”„ë¡œì íŠ¸ëŠ” ì—¬ëŸ¬ ì˜¨ë¼ì¸ ì‡¼í•‘ëª°ì—ì„œ ìœ í¬ì™• ì¹´ë“œ ê°€ê²©ì„ ë¹„êµí•˜ê³  ìµœì ì˜ êµ¬ë§¤ ì¡°í•©ì„ ì°¾ì•„ì£¼ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [ì£¼ìš” ê¸°ëŠ¥]
- [ê¸°ìˆ  ìŠ¤íƒ]
- [ì„¤ì¹˜ ë° ì‹¤í–‰]
  - [ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­]
  - [ë°±ì—”ë“œ ì„¤ì¹˜ ë° ì‹¤í–‰]
- [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •]
- [Discord ë´‡ (ì„ íƒì‚¬í•­)]
- [ë¬¸ì œ í•´ê²°]

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

- **ì¹´ë“œ ê°€ê²© ê²€ìƒ‰**: ë„¤ì´ë²„, TCGShop, CardDCì—ì„œ ì‹¤ì‹œê°„ ê°€ê²© ì¡°íšŒ
- **ë ˆì–´ë„ë³„ ê°€ê²© ë¹„êµ**: ë‹¤ì–‘í•œ ë ˆì–´ë„ì™€ ì–¸ì–´ë³„ ê°€ê²© ì •ë³´ ì œê³µ
- **ìµœì  êµ¬ë§¤ ì¡°í•©**: ì—¬ëŸ¬ ì¹´ë“œë¥¼ ê°€ì¥ ì €ë ´í•˜ê²Œ êµ¬ë§¤í•  ìˆ˜ ìˆëŠ” ì¡°í•© ê³„ì‚°
- **ì ë¦½ê¸ˆ ê³„ì‚°**: ê° ì‡¼í•‘ëª°ì˜ ì ë¦½ê¸ˆì„ ê³ ë ¤í•œ ì‹¤ì œ ë¹„ìš© ê³„ì‚°
- **ë°°ì†¡ë¹„ ìµœì í™”**: ì‚¬ì´íŠ¸ë³„ ë°°ì†¡ë¹„ë¥¼ ê³ ë ¤í•œ ì´ ë¹„ìš© ê³„ì‚°

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
- **Node.js** - ì„œë²„ í™˜ê²½
- **Express.js** - ì›¹ í”„ë ˆì„ì›Œí¬
- **MySQL** - ë°ì´í„°ë² ì´ìŠ¤
- **Redis** - ìºì‹± ë° ì„¸ì…˜ ê´€ë¦¬
- **Sequelize** - ORM
- **Discord.js** - Discord ë´‡ (ì„ íƒì‚¬í•­)

### í”„ë¡ íŠ¸ì—”ë“œ
- **Next.js 15** - React í”„ë ˆì„ì›Œí¬
- **TypeScript** - íƒ€ì… ì•ˆì „ì„±
- **Tailwind CSS** - ìŠ¤íƒ€ì¼ë§
- **Radix UI** - UI ì»´í¬ë„ŒíŠ¸

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­

ë‹¤ìŒ ì†Œí”„íŠ¸ì›¨ì–´ë“¤ì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤:

1. **Node.js** (v18 ì´ìƒ)
   ```bash
   # ì„¤ì¹˜ í™•ì¸
   node --version
   npm --version
   ```
   ì„¤ì¹˜ê°€ í•„ìš”í•œ ê²½ìš°: [Node.js ê³µì‹ ì‚¬ì´íŠ¸](https://nodejs.org/)

2. **MySQL** (v8.0 ì´ìƒ)
   ```bash
   # ì„¤ì¹˜ í™•ì¸
   mysql --version
   ```
   ì„¤ì¹˜ê°€ í•„ìš”í•œ ê²½ìš°:
   - Windows: [MySQL Installer](https://dev.mysql.com/downloads/installer/)
   - macOS: `brew install mysql`
   - Ubuntu: `sudo apt install mysql-server`

3. **Redis** (v6.0 ì´ìƒ)
   ```bash
   # ì„¤ì¹˜ í™•ì¸
   redis-cli --version
   ```
   ì„¤ì¹˜ê°€ í•„ìš”í•œ ê²½ìš°:
   - Windows: [Redis for Windows](https://github.com/microsoftarchive/redis/releases)
   - macOS: `brew install redis`
   - Ubuntu: `sudo apt install redis-server`

### ë°±ì—”ë“œ ì„¤ì¹˜ ë° ì‹¤í–‰

1. **í”„ë¡œì íŠ¸ í´ë¡ **
   ```bash
   git clone [í”„ë¡œì íŠ¸-ì£¼ì†Œ]
   cd cards-price-comparison
   ```

2. **ë°±ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™**
   ```bash
   cd be
   ```

3. **ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜**
   ```bash
   npm install
   ```

4. **MySQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±**
   ```bash
   # MySQL ì ‘ì†
   mysql -u root -p
   ```
   ```sql
   -- ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
   CREATE DATABASE cards;
   
   exit;
   ```

5. **Redis ì„œë²„ ì‹œì‘**
   ```bash
   # macOS/Linux
   redis-server
   
   # Windows (Redis ì„¤ì¹˜ í´ë”ì—ì„œ)
   redis-server.exe
   ```

6. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
   ```bash
   # .env íŒŒì¼ ìƒì„±
   touch .env
   ```
   
   `.env` íŒŒì¼ì— ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€:
   ```env
   # ì„œë²„ ì„¤ì •
   PORT=5000
   
   # ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
   DB_HOST=localhost
   DB_PORT=3306
   DB_NAME=cards
   DB_USER=root
   DB_PASSWORD=your_mysql_password
   
   # Redis ì„¤ì •
   REDIS_HOST=localhost
   REDIS_PORT=6379
   
   # API í‚¤ (ì„ íƒì‚¬í•­)
   NAVER_CLIENT_ID=your_naver_client_id
   NAVER_CLIENT_SECRET=your_naver_client_secret
   
   # Discord ë´‡ (ì„ íƒì‚¬í•­)
   DISCORD_BOT_TOKEN=your_discord_bot_token
   DISCORD_CHANNEL_ID=your_discord_channel_id
   ```

7. **ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰**
   ```bash
   # ê°œë°œ ëª¨ë“œ (nodemon ì‚¬ìš©)
   npm run dev
   
   # ë˜ëŠ” ì¼ë°˜ ì‹¤í–‰
   npm start
   ```

   ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹œì‘ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤:
   ```
   DB ì—°ê²° ì„±ê³µ
   ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ë™ê¸°í™” ì™„ë£Œ
   TCGìŠ¤ìºë„ˆ ì„œë²„ê°€ í¬íŠ¸ 5000ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.
   ```

## âš™ï¸ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ëª… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|
| `PORT` | ë°±ì—”ë“œ ì„œë²„ í¬íŠ¸ | `5000` |
| `DB_HOST` | MySQL í˜¸ìŠ¤íŠ¸ | `localhost` |
| `DB_PORT` | MySQL í¬íŠ¸ | `3306` |
| `DB_NAME` | ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ | `cards` |
| `DB_USER` | MySQL ì‚¬ìš©ìëª… | `root` |
| `DB_PASSWORD` | MySQL ë¹„ë°€ë²ˆí˜¸ | `your_password` |
| `REDIS_HOST` | Redis í˜¸ìŠ¤íŠ¸ | `localhost` |
| `REDIS_PORT` | Redis í¬íŠ¸ | `6379` |

### ì„ íƒì  í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ëª… | ì„¤ëª… | ìš©ë„ |
|--------|------|------|
| `NAVER_CLIENT_ID` | ë„¤ì´ë²„ API í´ë¼ì´ì–¸íŠ¸ ID | ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ API |
| `NAVER_CLIENT_SECRET` | ë„¤ì´ë²„ API í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿ | ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ API |
| `DISCORD_BOT_TOKEN` | Discord ë´‡ í† í° | Discord ì•Œë¦¼ ë´‡ |
| `DISCORD_CHANNEL_ID` | Discord ì±„ë„ ID | Discord ì•Œë¦¼ ì „ì†¡ |

## ğŸ¤– Discord ë´‡ (ì„ íƒì‚¬í•­)

Discord ë´‡ì„ ì‚¬ìš©í•˜ì—¬ ì—ëŸ¬ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Discord ë´‡ ì„¤ì •

1. **Discord Developer Portalì—ì„œ ë´‡ ìƒì„±**
   - [Discord Developer Portal](https://discord.com/developers/applications) ì ‘ì†
   - ìƒˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±
   - Bot ì„¹ì…˜ì—ì„œ í† í° ìƒì„±

2. **ë´‡ì„ ì„œë²„ì— ì´ˆëŒ€**
   - OAuth2 ì„¹ì…˜ì—ì„œ ê¶Œí•œ ì„¤ì •
   - ìƒì„±ëœ ì´ˆëŒ€ ë§í¬ë¡œ ë´‡ì„ ì„œë²„ì— ì¶”ê°€

3. **í™˜ê²½ ë³€ìˆ˜ì— í† í° ì¶”ê°€**
   ```env
   DISCORD_BOT_TOKEN=your_discord_bot_token
   DISCORD_CHANNEL_ID=your_discord_channel_id
   ```

4. **Discord ë´‡ ì‹¤í–‰**
   ```bash
   npm run discord-bot
   ```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

#### 1. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
```
DB ì—°ê²° ì‹¤íŒ¨: Access denied for user
```
**í•´ê²°ë°©ë²•:**
- MySQL ì‚¬ìš©ìëª…/ë¹„ë°€ë²ˆí˜¸ í™•ì¸
- MySQL ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
- ë°ì´í„°ë² ì´ìŠ¤ê°€ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸

#### 2. Redis ì—°ê²° ì‹¤íŒ¨
```
Redis connection failed
```
**í•´ê²°ë°©ë²•:**
- Redis ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸: `redis-cli ping`
- Redis ì„¤ì • í™•ì¸ (í˜¸ìŠ¤íŠ¸, í¬íŠ¸)

#### 3. í¬íŠ¸ ì¶©ëŒ
```
Error: listen EADDRINUSE :::5000
```
**í•´ê²°ë°©ë²•:**
- ë‹¤ë¥¸ í¬íŠ¸ ì‚¬ìš©: `.env`ì—ì„œ `PORT=5001` ì„¤ì •
- ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ: `kill -9 $(lsof -t -i:5000)`

#### 4. npm íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹¤íŒ¨
```
npm ERR! network timeout
```
**í•´ê²°ë°©ë²•:**
- npm ìºì‹œ í´ë¦¬ì–´: `npm cache clean --force`
- npm registry í™•ì¸: `npm config get registry`
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸

### ë¡œê·¸ í™•ì¸

```bash
# ë°±ì—”ë“œ ë¡œê·¸ (ê°œë°œ ëª¨ë“œ)
npm run dev

# í”„ë¡ íŠ¸ì—”ë“œ ë¡œê·¸
npm run dev

# Discord ë´‡ ë¡œê·¸
npm run discord-bot
```

### ê°œë°œ ë„êµ¬

```bash
# ì½”ë“œ í¬ë§·íŒ…
npm run format

# ì½”ë“œ í¬ë§·íŒ… ì²´í¬
npm run format:check
```

## ğŸ“š API ì‚¬ìš©ë²•

ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ë‹¤ìŒ ì—”ë“œí¬ì¸íŠ¸ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- `GET /api/cards/rarity-prices?cardName={ì¹´ë“œì´ë¦„}` - ì¹´ë“œ ê°€ê²© ì •ë³´ ì¡°íšŒ
- `POST /api/cards/optimal-purchase` - ìµœì  êµ¬ë§¤ ì¡°í•© ê³„ì‚°
- `GET /api/cards/prices-cache/{cacheId}` - ìºì‹œëœ ê°€ê²© ì •ë³´ ì¡°íšŒ

### ê¸°ë³¸ ì‚¬ìš© ì˜ˆì‹œ

```javascript
// ì¹´ë“œ ê°€ê²© ì¡°íšŒ
const response = await fetch('http://localhost:5000/api/cards/rarity-prices?cardName=ë¸”ë™ ë§¤ì§€ì…˜');
const data = await response.json();

// ìµœì  êµ¬ë§¤ ì¡°í•© ê³„ì‚°
const optimizeResponse = await fetch('http://localhost:5000/api/cards/optimal-purchase', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    cards: [
      {
        name: 'ë¸”ë™ ë§¤ì§€ì…˜',
        rarity: 'ìš¸íŠ¸ë¼ ë ˆì–´',
        language: 'í•œê¸€íŒ',
        quantity: 3,
        cacheId: 'cache-id-from-previous-call'
      }
    ]
  })
});
```

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´:

1. ë¨¼ì € [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°) ì„¹ì…˜ì„ í™•ì¸í•´ë³´ì„¸ìš”
2. ë¡œê·¸ë¥¼ í™•ì¸í•˜ì—¬ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ íŒŒì•…í•´ë³´ì„¸ìš”
3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•´ë³´ì„¸ìš”

---

ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì…¨ë‹¤ë©´ â­ ìŠ¤íƒ€ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!

## **API ìƒì„¸ ë¬¸ì„œ**

### **1. ë ˆì–´ë„ë³„ ê°€ê²© ì •ë³´ ì¡°íšŒ**

#### **1-1. ìœ í¬ì™• ì¹´ë“œ ê°€ê²© ì •ë³´ ì¡°íšŒ**

- **ì—”ë“œí¬ì¸íŠ¸**: GET /api/cards/yugioh-rarity-prices?cardName=ì¹´ë“œì´ë¦„
- **ì„¤ëª…**: ìœ í¬ì™• ì¹´ë“œ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ ì¹´ë“œ ì •ë³´ì™€ ë ˆì–´ë„ë³„ ê°€ê²© ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë„¤ì´ë²„ API, TCGShop, CardDCì—ì„œ ì‹¤ì‹œê°„ ê²€ìƒ‰ì„ ì‹œë„í•©ë‹ˆë‹¤.

- **íŒŒë¼ë¯¸í„°**: cardName: ê²€ìƒ‰í•  ì¹´ë“œ ì´ë¦„
- **ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**: includeUsed: ì¤‘ê³  ìƒí’ˆ í¬í•¨ ì—¬ë¶€ (ê¸°ë³¸ê°’: true)

**ìš”ì²­ í˜•ì‹ ì˜ˆì‹œ**

**ê¸°ë³¸ ìš”ì²­:**

GET /api/cards/yugioh-rarity-prices?cardName=ë¸”ë™ ë§¤ì§€ì…˜

**ì¤‘ê³  ìƒí’ˆ ì œì™¸ ì˜µì…˜:**

GET /api/cards/yugioh-rarity-prices?cardName=ë¸”ë™ ë§¤ì§€ì…˜&includeUsed=false

#### **1-2. ë±…ê°€ë“œ ì¹´ë“œ ê°€ê²© ì •ë³´ ì¡°íšŒ**

- **ì—”ë“œí¬ì¸íŠ¸**: GET /api/cards/vanguard-rarity-prices?cardName=ì¹´ë“œì´ë¦„
- **ì„¤ëª…**: ì¹´ë“œíŒŒì´íŠ¸ ë±…ê°€ë“œ ì¹´ë“œ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ ì¹´ë“œ ì •ë³´ì™€ ë ˆì–´ë„ë³„ ê°€ê²© ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë„¤ì´ë²„ API, TCGShop, CardDCì—ì„œ ì‹¤ì‹œê°„ ê²€ìƒ‰ì„ ì‹œë„í•©ë‹ˆë‹¤.

- **íŒŒë¼ë¯¸í„°**: cardName: ê²€ìƒ‰í•  ì¹´ë“œ ì´ë¦„
- **ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**: includeUsed: ì¤‘ê³  ìƒí’ˆ í¬í•¨ ì—¬ë¶€ (ê¸°ë³¸ê°’: true)

**ìš”ì²­ í˜•ì‹ ì˜ˆì‹œ**

**ê¸°ë³¸ ìš”ì²­:**

GET /api/cards/vanguard-rarity-prices?cardName=ë¸”ë˜ìŠ¤í„° ë¸”ë ˆì´ë“œ

**ì¤‘ê³  ìƒí’ˆ ì œì™¸ ì˜µì…˜:**

GET /api/cards/vanguard-rarity-prices?cardName=ë¸”ë˜ìŠ¤í„° ë¸”ë ˆì´ë“œ&includeUsed=false

- **ì‘ë‹µ ì˜ˆì‹œ**:json

```json
{
  "success": true,
  "source": "naver_api",
  "gameType": "yugioh",
  "data": {
    "cardId": 125,
    "cardName": "ë¸”ë™ ë§¤ì§€ì…˜",
    "image": "https://example.com/images/black-magician.jpg",
    "totalProducts": 123
  },
  "rarityPrices": {
    "default": {
      "í•œê¸€íŒ": {
        "ìš¸íŠ¸ë¼ ë ˆì–´": {
          "image": "https://example.com/images/ultra-rare-default.jpg",
          "prices": [
            {
              "id": 587,
              "price": 12000,
              "site": "TCGShop",
              "url": "https://tcgshop.com/product/123",
              "condition": "ì‹ í’ˆ",
              "rarity": "ìš¸íŠ¸ë¼ ë ˆì–´",
              "language": "í•œê¸€íŒ",
              "cardCode": "LDK2-KR001",
              "available": true,
              "lastUpdated": "2023-04-05T07:30:00.000Z",
              "illustration": "default"
            }
          ]
        },
        "ì‹œí¬ë¦¿ ë ˆì–´": {
          "image": "https://example.com/images/secret-rare-default.jpg",
          "prices": [
            {
              "id": 588,
              "price": 15000,
              "site": "CardDC",
              "url": "https://carddc.com/product/456",
              "condition": "ì‹ í’ˆ",
              "rarity": "ì‹œí¬ë¦¿ ë ˆì–´",
              "language": "í•œê¸€íŒ",
              "cardCode": "DLCS-KR001",
              "available": true,
              "lastUpdated": "2023-04-05T07:30:00.000Z",
              "illustration": "default"
            }
          ]
        }
      },
      "ì¼ë³¸íŒ": {
        "ë ˆì–´": {
          "image": "https://example.com/images/rare-jp-default.jpg",
          "prices": [
            {
              "id": 589,
              "price": 8000,
              "site": "TCGShop",
              "url": "https://tcgshop.com/product/789",
              "condition": "ì‹ í’ˆ",
              "rarity": "ë ˆì–´",
              "language": "ì¼ë³¸íŒ",
              "cardCode": "LDK2-JP001",
              "available": true,
              "lastUpdated": "2023-04-05T07:30:00.000Z",
              "illustration": "default"
            }
          ]
        }
      }
    },
    "another": {
      "í•œê¸€íŒ": {
        "ìš¸íŠ¸ë¼ ë ˆì–´": {
          "image": "https://example.com/images/ultra-rare-another.jpg",
          "prices": [
            {
              "id": 590,
              "price": 18000,
              "site": "TCGShop",
              "url": "https://tcgshop.com/product/124",
              "condition": "ì‹ í’ˆ",
              "rarity": "ìš¸íŠ¸ë¼ ë ˆì–´",
              "language": "í•œê¸€íŒ",
              "cardCode": "LDK2-KRS01",
              "available": true,
              "lastUpdated": "2023-04-05T07:30:00.000Z",
              "illustration": "another"
            }
          ]
        },
        "ì‹œí¬ë¦¿ ë ˆì–´": {
          "image": "https://example.com/images/secret-rare-another.jpg",
          "prices": [
            {
              "id": 591,
              "price": 22000,
              "site": "CardDC",
              "url": "https://carddc.com/product/457",
              "condition": "ì‹ í’ˆ",
              "rarity": "ì‹œí¬ë¦¿ ë ˆì–´",
              "language": "í•œê¸€íŒ",
              "cardCode": "DLCS-KR001",
              "available": true,
              "lastUpdated": "2023-04-05T07:30:00.000Z",
              "illustration": "another"
            }
          ]
        }
      }
    }
  },
  "cacheId": "550e8400-e29b-41d4-a716-446655440000",
  "cacheExpiresAt": "2023-04-08T13:45:30.000Z"
}
```

- **ì˜¤ë¥˜ ì‘ë‹µÂ ì˜ˆì‹œ**:

```json
{
  "success": false,
  "error": "naver ìš”ì²­ ì œí•œ ì´ˆê³¼ë¡œ í¬ë¡¤ë§ì„ ì§„í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```

### **2. ìµœì  êµ¬ë§¤ ì¡°í•© ê³„ì‚°**

- **ì—”ë“œí¬ì¸íŠ¸**:Â POST /api/cards/optimal-purchase
- **ì„¤ëª…**:Â ì—¬ëŸ¬ ì¥ì˜ ì¹´ë“œë¥¼Â ê°€ì¥ ì €ë ´í•˜ê²Œ êµ¬ë§¤í•  ìˆ˜ ìˆëŠ”Â ì¡°í•©ì„ ê³„ì‚°í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œÂ ì‚¬ì´íŠ¸ì—ì„œ ì¹´ë“œ ê°€ê²©ì„ ê²€ìƒ‰í•˜ê³ , ë°°ì†¡ë¹„ë¥¼ ê³ ë ¤í•˜ì—¬Â ìµœì ì˜Â êµ¬ë§¤ ì¡°í•©ì„ ì œì•ˆí•©ë‹ˆë‹¤.
- **ì¤‘ìš”**: ì´Â APIë¥¼ ì‚¬ìš©í•˜ê¸°Â ì „ì— ë°˜ë“œì‹œ ê°Â ì¹´ë“œì— ëŒ€í•´Â /api/cards/rarity-prices/:cardNameÂ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ê°€ê²©Â ì •ë³´ì™€ ìºì‹œÂ IDë¥¼ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.
- **ìš”ì²­Â ë³¸ë¬¸ ì˜ˆì‹œ**:

```json
POST /api/cards/optimal-purchase

{
  "cards": [
    {
      "name": "ë¸”ë™ ë§¤ì§€ì…˜",
      "rarity": "ìš¸íŠ¸ë¼ ë ˆì–´",
      "language": "í•œê¸€íŒ",
      "illustrationType": "default",
      "quantity": 3,
      "cacheId": "550e8400-e29b-41d4-a716-446655440000"
    },
    {
      "name": "í‘¸ë¥¸ ëˆˆì˜ ë°±ë£¡",
      "rarity": "ì‹œí¬ë¦¿ ë ˆì–´",
      "language": "ì¼ë³¸íŒ",
      "illustrationType": "another",
      "quantity": 1,
      "cacheId": "71e0d400-c75b-41d4-a986-446655440123"
    },
    {
      "name": "ë¶‰ì€ ëˆˆì˜ í‘ë£¡",
      "rarity": "ìš¸íŠ¸ë¼ ë ˆì–´",
      "language": "ì˜ë¬¸íŒ",
      "illustrationType": "default",
      "quantity": 2,
      "cacheId": "82f1e500-d76c-41d4-b096-446655440456"
    }
  ],
  "shippingRegion": "default",
  "tcgshopPoints": true,
  "carddcPoints": true,
  "naverBasicPoints": true,
  "naverBankbookPoints": false,
  "naverMembershipPoints": false,
  "naverHyundaiCardPoints": false
  
  "excludedProductIds": ["34121", "1463", "123"],
  "excludedStores": ["TCGShop", "Naver_ì¹´ë“œí‚¹ë¤"],
  
  "takeout": [
	  "cardKingdom", // ì¥í•œí‰ ì¹´ë“œí‚¹ë¤
	  "cardNyang",  // ì—­ì‚¼ ì¹´ë“œëƒ¥
		"cardSquare",  // ì‹ ë‹¹ ì¹´ë“œìŠ¤í€˜ì–´
		"minCGCardMarket",  // ëŒ€ì „ ë¯¼ì”¨ì§€ìƒµ
		"diMarket",  // ì „ì£¼ ë””ë§ˆì¼“
		"skyscraper",  // ì—­ê³¡ ë§ˆì²œë£¨ ì¹´ë“œì¥í„°
		"areaZeroStore",  // ì„ê³„ ì—ë¦¬ì–´ì œë¡œ ìŠ¤í† ì–´
		"blackStone",  // í‘ì„ ë¸”ë™ìŠ¤í†¤
		"dualWinner",  // ëŒ€í™” ë“€ì–¼ìœ„ë„ˆ
		"tcgKingdom",  // ìš¸ì‚° TCGí‚¹ë¤
		"tcgPlayer",  // ê´‘ì£¼ í‹°ì”¨ì§€ í”Œë ˆì´ì–´
  ]
}
```

- **ìš”ì²­ íŒŒë¼ë¯¸í„°**:

cards: êµ¬ë§¤í• Â ì¹´ë“œ ëª©ë¡ (í•„ìˆ˜)

- name: ì¹´ë“œÂ ì´ë¦„ (í•„ìˆ˜)
- rarity: ì›í•˜ëŠ” ë ˆì–´ë„ (í•„ìˆ˜)
- language: ì›í•˜ëŠ” ì–¸ì–´ (í•„ìˆ˜, ì˜ˆ: "í•œê¸€íŒ",Â "ì¼ë³¸íŒ", "ì˜ë¬¸íŒ")
- quantity: ê°™ì€ ì¹´ë“œë¥¼Â ëª‡ ì¥ êµ¬ë§¤í• ê±´ì§€ (í•„ìˆ˜, ê¸°ë³¸ê°’: 1)
- cacheId: ê°€ê²© ì •ë³´Â ìºì‹œ ID (í•„ìˆ˜,Â /api/cards/rarity-prices/:cardNameÂ API í˜¸ì¶œ ì‹œÂ ë°›ì€ ê°’)
- shippingRegion: 'default', 'jeju', 'island' (ê¸°ë³¸ê°’:Â 'default', ê¸°ë³¸ ë°°ì†¡ë¹„, ì œì£¼ ì§€ì—­Â ë°°ì†¡ë¹„, ë„ì„œ ì§€ì—­Â ë°°ì†¡ë¹„ ì ìš©)

ì ë¦½ê¸ˆ ê´€ë ¨Â ì˜µì…˜ë“¤: 

- tcgshopPoints: í‹°ì”¨ì§€ìƒµ ì ë¦½ê¸ˆ(10%)ì„ ê³ ë ¤í•´ì„œ ìµœì €ê°€ ì¡°í•© ê³„ì‚°ì„ í•©ë‹ˆë‹¤.
- carddcPoints: ì¹´ë“œë””ì”¨ ì ë¦½ê¸ˆ(10%)ì„ ê³ ë ¤í•´ì„œ ìµœì €ê°€ ì¡°í•© ê³„ì‚°ì„ í•©ë‹ˆë‹¤.
- naverBasicPoints: ë„¤ì´ë²„í˜ì´ ê¸°ë³¸ ì ë¦½ê¸ˆ(2.5%)ê³¼ ë„¤ì´ë²„Â ë¦¬ë·°Â ì ë¦½ê¸ˆ(3000ì› ì´ìƒ ì œí’ˆë‹¹ 150ì›)ì„ ê³ ë ¤í•´ì„œ ìµœì €ê°€ ì¡°í•© ê³„ì‚°ì„ í•©ë‹ˆë‹¤.
- naverBankbookPoints: ë„¤ì´ë²„ ì œíœ´í†µì¥(ë„¤ì´ë²„í˜ì´ ë¨¸ë‹ˆ í•˜ë‚˜í†µì¥, ë¯¸ë˜ì—ì…‹ì¦ê¶Œ CMA-RP ë„¤ì´ë²„í†µì¥) ì ë¦½ê¸ˆ(0.5%)ì„ ê³ ë ¤í•´ì„œ ìµœì €ê°€ ì¡°í•© ê³„ì‚°ì„ í•©ë‹ˆë‹¤.
- naverMembershipPoints: ë„¤ì´ë²„Â ë©¤ë²„ì‹­ ì ë¦½ê¸ˆ(4%)ì„ ê³ ë ¤í•´ì„œ ìµœì €ê°€ ì¡°í•© ê³„ì‚°ì„ í•©ë‹ˆë‹¤.
- naverHyundaiCardPoints: ë„¤ì´ë²„ í˜„ëŒ€ì¹´ë“œ ì ë¦½ê¸ˆ(7%)ì„ ê³ ë ¤í•´ì„œ ìµœì €ê°€ ì¡°í•© ê³„ì‚°ì„ í•©ë‹ˆë‹¤.

- **ì˜¤ë¥˜ ì‘ë‹µÂ ì˜ˆì‹œ**:

í•„ìˆ˜ í•„ë“œÂ ëˆ„ë½ ì‹œ:

```json
{
  "success": false,
  "message": "ëª¨ë“  ì¹´ë“œëŠ” cacheIdì™€ rarity í•„ë“œê°€ í•„ìˆ˜ì…ë‹ˆë‹¤.",
  "invalidCards": [
    {
      "name": "ë¸”ë™ ë§¤ì§€ì…˜",
      "missingFields": ["cacheId"]
    },
    {
      "name": "í‘¸ë¥¸ ëˆˆì˜ ë°±ë£¡",
      "missingFields": ["rarity"]
    }
  ]
}
```

ìºì‹œ ID ë§Œë£Œ ë˜ëŠ” ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš°:

```json
{
  "success": false,
  "message": "'ë¸”ë™ ë§¤ì§€ì…˜' ì¹´ë“œì˜ ê°€ê²© ì •ë³´ê°€ ë§Œë£Œë˜ì—ˆê±°ë‚˜ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ /api/cards/rarity-prices/ë¸”ë™%20ë§¤ì§€ì…˜ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ìºì‹œ IDë¥¼ ì–»ì–´ì£¼ì„¸ìš”.",
  "invalidCacheId": "550e8400-e29b-41d4-a716-446655440000"
}
```

ë ˆì–´ë„ì™€ ì–¸ì–´ ì¡°í•©ì´ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš°:

```json
{
  "success": false,
  "message": "ì¼ë¶€ ì¹´ë“œì— ëŒ€í•´ ì„ íƒí•œ ë ˆì–´ë„ì™€ ì–¸ì–´ ì¡°í•©ì˜ ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
  "invalidCombinations": [
    {
      "name": "ë¸”ë™ ë§¤ì§€ì…˜",
      "requestedRarity": "ìš¸íŠ¸ë¼ ë ˆì–´",
      "requestedLanguage": "ì˜ë¬¸íŒ",
      "availableLanguages": ["í•œê¸€íŒ", "ì¼ë³¸íŒ"]
    }
  ]
}
```

- **ì‘ë‹µ ì˜ˆì‹œ**:json

```
{
  "success": true,
  "totalCost": 42500,             
  "totalProductCost": 45000,
  "totalShippingCost": 5000,
  "totalPointsEarned": 7500,
  "pointsOptions": {
    "tcgshop": true,
    "carddc": true,
    "naverBasic": true,
    "naverBankbook": true,
    "naverMembership": false,
    "naverHyundaiCard": false
  },
  "shippingRegion": "jeju",
  "cardsOptimalPurchase": {
    "TCGShop": {
      "cards": [
        {
          "cardName": "ë¸”ë™ ë§¤ì§€ì…˜",
          "price": 15000,
          "quantity": 3,
          "totalPrice": 45000,
          "product": {
            "id": 123,
            "price": 15000,
            "rarity": "ìš¸íŠ¸ë¼ ë ˆì–´",
            "language": "í•œê¸€íŒ",
            "site": "TCGShop",
            "url": "https://tcgshop.com/product/123",
            "cardCode": "LDK2-KR001",
            "illustration": "default"
          },
          "image": "https://example.com/images/black-magician-ultra-ko-default.jpg"
        },
        {
          "cardName": "í‘¸ë¥¸ ëˆˆì˜ ë°±ë£¡",
          "price": 12500,
          "quantity": 1,
          "totalPrice": 12500,
          "product": {
            "id": 321,
            "price": 12500,
            "rarity": "ì‹œí¬ë¦¿ ë ˆì–´",
            "language": "ì¼ë³¸íŒ",
            "site": "TCGShop",
            "url": "https://tcgshop.com/product/456",
            "cardCode": "SDK-JP001",
            "illustration": "another"
          },
          "image": "https://example.com/images/blue-eyes-secret-jp-another.jpg"
        }
      ],
      "finalPrice": 54250,
      "productCost": 57500,
      "shippingCost": 2500,
      "pointsEarned": 5750
    },
    "CardDC": {
      "cards": [
        {
          "cardName": "ë¶‰ì€ ëˆˆì˜ í‘ë£¡",
          "price": 9000,
          "quantity": 1,
          "totalPrice": 9000,
          "product": {
            "id": 789,
            "price": 9000,
            "rarity": "ë ˆì–´",
            "language": "í•œê¸€íŒ",
            "site": "CardDC",
            "url": "https://carddc.com/product/789",
            "cardCode": "SDK-KR002",
            "illustration": "default"
          },
          "image": "https://example.com/images/red-eyes-rare-ko-default.jpg"
        }
      ],
      "finalPrice": 10100,
      "productCost": 9000,
      "shippingCost": 2000,
      "pointsEarned": 900
    }
  },
  "cardImages": {
    "ë¸”ë™ ë§¤ì§€ì…˜": {
      "default": "https://example.com/images/black-magician-default.jpg",
      "another": "https://example.com/images/black-magician-another.jpg"
    },
    "í‘¸ë¥¸ ëˆˆì˜ ë°±ë£¡": {
      "default": "https://example.com/images/blue-eyes-default.jpg",
      "another": "https://example.com/images/blue-eyes-another.jpg"
    },
    "ë¶‰ì€ ëˆˆì˜ í‘ë£¡": {
      "default": "https://example.com/images/red-eyes-default.jpg"
    }
  },
  "excludedFilters": {
    "excludedProductIds": [], 
    "excludedStores": []
  }
}
```

## **ì˜¤ë¥˜ ì‘ë‹µ í˜•ì‹**

ëª¨ë“  APIÂ ì—”ë“œí¬ì¸íŠ¸ëŠ” ì˜¤ë¥˜ ë°œìƒ ì‹œ ë‹¤ìŒê³¼ ê°™ì€Â í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤:

```json
{
  "success": false,
  "error": "ì˜¤ë¥˜ ë©”ì‹œì§€"
}
```

### **3. ìºì‹±ëœ ê°€ê²© ì •ë³´ ì¡°íšŒ**

- **ì—”ë“œí¬ì¸íŠ¸**: GET /api/cards/prices-cache/:id
- **ì„¤ëª…**: DBì— ìºì‹±ëœ ê°€ê²© ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

### **íŒŒë¼ë¯¸í„°**

- :idÂ -Â ìºì‹œ IDÂ (UUID í˜•ì‹)
- UUID í˜•ì‹:Â xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxxÂ (ì˜ˆ:Â 123e4567-e89b-12d3-a456-426614174000)
- ì´Â ìºì‹œ IDëŠ”Â /api/cards/rarity-pricesÂ APIë¥¼ í˜¸ì¶œí•  ë•ŒÂ ì‘ë‹µìœ¼ë¡œ ë°›ì€Â cacheIdÂ ê°’ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

**ìš”ì²­ í˜•ì‹ ì˜ˆì‹œ**

GET /api/cards/prices-cache/123e4567-e89b-12d3-a456-426614174000

## **ì‘ë‹µ í˜•ì‹**

**ì„±ê³µÂ ì‘ë‹µ (200Â OK)**

```json
{
  "success": true,
  "data": {
    "cardName": "í‘¸ë¥¸ ëˆˆì˜ ë°±ë£¡",
    "image": "https://example.com/images/blue-eyes-default.jpg",
    "totalProducts": 89
  },
  "rarityPrices": {
    "default": {
      "í•œêµ­ì–´": {
        "ìš¸íŠ¸ë¼ ë ˆì–´": {
          "image": "https://example.com/images/blue-eyes-ultra-ko-default.jpg",
          "prices": [
            {
              "id": "price-001",
              "price": 10000,
              "site": "TCGShop",
              "url": "https://tcgshop.com/product/123",
              "condition": "ì‹ í’ˆ",
              "rarity": "ìš¸íŠ¸ë¼ ë ˆì–´",
              "language": "í•œêµ­ì–´",
              "cardCode": "SDK-KR01",
              "available": true,
              "lastUpdated": "2023-01-01T00:00:00Z",
              "illustration": "default"
            }
          ]
        },
        "ì‹œí¬ë¦¿ ë ˆì–´": {
          "image": "https://example.com/images/blue-eyes-secret-ko-default.jpg",
          "prices": [
            {
              "id": "price-002",
              "price": 15000,
              "site": "CardDC",
              "url": "https://carddc.com/product/456",
              "condition": "ì‹ í’ˆ",
              "rarity": "ì‹œí¬ë¦¿ ë ˆì–´",
              "language": "í•œêµ­ì–´",
              "cardCode": "SDK-KR01",
              "available": true,
              "lastUpdated": "2023-01-01T00:00:00Z",
              "illustration": "default"
            }
          ]
        }
      },
      "ì¼ë³¸ì–´": {
        "ìš¸íŠ¸ë¼ ë ˆì–´": {
          "image": "https://example.com/images/blue-eyes-ultra-jp-default.jpg",
          "prices": [
            {
              "id": "price-003",
              "price": 8000,
              "site": "TCGShop",
              "url": "https://tcgshop.com/product/789",
              "condition": "ì‹ í’ˆ",
              "rarity": "ìš¸íŠ¸ë¼ ë ˆì–´",
              "language": "ì¼ë³¸ì–´",
              "cardCode": "SDK-JP01",
              "available": true,
              "lastUpdated": "2023-01-01T00:00:00Z",
              "illustration": "default"
            }
          ]
        }
      }
    },
    "another": {
      "í•œêµ­ì–´": {
        "ìš¸íŠ¸ë¼ ë ˆì–´": {
          "image": "https://example.com/images/blue-eyes-ultra-ko-another.jpg",
          "prices": [
            {
              "id": "price-004",
              "price": 18000,
              "site": "TCGShop",
              "url": "https://tcgshop.com/product/124",
              "condition": "ì‹ í’ˆ",
              "rarity": "ìš¸íŠ¸ë¼ ë ˆì–´",
              "language": "í•œêµ­ì–´",
              "cardCode": "SDK-KR01",
              "available": true,
              "lastUpdated": "2023-01-01T00:00:00Z",
              "illustration": "another"
            }
          ]
        },
        "ì‹œí¬ë¦¿ ë ˆì–´": {
          "image": "https://example.com/images/blue-eyes-secret-ko-another.jpg",
          "prices": [
            {
              "id": "price-005",
              "price": 25000,
              "site": "CardDC",
              "url": "https://carddc.com/product/457",
              "condition": "ì‹ í’ˆ",
              "rarity": "ì‹œí¬ë¦¿ ë ˆì–´",
              "language": "í•œêµ­ì–´",
              "cardCode": "SDK-KR01",
              "available": true,
              "lastUpdated": "2023-01-01T00:00:00Z",
              "illustration": "another"
            }
          ]
        }
      }
    }
  },
  "cacheId": "123e4567-e89b-12d3-a456-426614174000",
  "cacheExpiresAt": "2023-01-02T00:00:00Z"
}
```

**ì˜¤ë¥˜ ì‘ë‹µ**

1. **ì˜ëª»ëœÂ ìºì‹œ IDÂ (400 Bad Request)**

```json
{
  "success": false,
  "message": "ìœ íš¨í•˜ì§€ ì•Šì€ ìºì‹œ IDì…ë‹ˆë‹¤."
}
```

1. **ìºì‹œ ì •ë³´ë¥¼ ì°¾ì„Â ìˆ˜ ì—†ìŒÂ (404 Not Found)**

```json
{
  "success": false,
  "message": "í•´ë‹¹ IDì˜ ê°€ê²© ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```

1. **ìºì‹œ ë§Œë£Œ (410Â Gone)**

```json
{
  "success": false,
  "message": "ê°€ê²© ì •ë³´ê°€ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì •ë³´ë¥¼ ì¡°íšŒí•´ì£¼ì„¸ìš”."
}
```

1. **ì„œë²„ ì˜¤ë¥˜Â (500 Internal ServerÂ Error)**

```json
{
  "success": false,
  "message": "ê°€ê²© ì •ë³´ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
  "error": "ì˜¤ë¥˜ ë©”ì‹œì§€"
}
```

## **ìƒíƒœ ì½”ë“œ**

- 200Â OK: ìš”ì²­ ì„±ê³µ
- 400 Bad Request: ì˜ëª»ëœÂ ìš”ì²­ (í•„ìˆ˜ íŒŒë¼ë¯¸í„°Â ëˆ„ë½ ë“±)
- 404 Not Found: ìš”ì²­í•œ ìì›ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
- 500 Internal Server Error:Â ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜

## **ê³µí†µ ì‘ë‹µÂ í•„ë“œ**

- success: ìš”ì²­Â ì„±ê³µ ì—¬ë¶€ (boolean)
- error: ì˜¤ë¥˜ ë©”ì‹œì§€Â (ì˜¤ë¥˜ ë°œìƒ ì‹œì—ë§Œ í¬í•¨)
- data: ì‘ë‹µ ë°ì´í„°Â (ìš”ì²­ ì„±ê³µ ì‹œ)

## **ì‚¬ìš© ì˜ˆì‹œÂ (JavaScript)**

**ì¹´ë“œ ê²€ìƒ‰ ë° ê°€ê²©Â ë¹„êµ**

```jsx
async function searchCard(cardName) {
  try {
    const response = await fetch(`http://localhost:5000/api/cards/${cardName}`);
    const data = await response.json();
    
    if (data.success) {
      console.log(`ì¹´ë“œëª…: ${data.data.name}`);
      console.log(`ì¹´ë“œ ì´ë¯¸ì§€: ${data.data.image}`);
      console.log('ê°€ê²© ì •ë³´:');
      data.prices.forEach(price => {
        console.log(`- ${price.site}: ${price.price}ì› (ë ˆì–´ë„: ${price.rarity})`);
      });
    } else {
      console.error(`ì˜¤ë¥˜: ${data.error}`);
    }
  } catch (error) {
    console.error('API ìš”ì²­ ì‹¤íŒ¨:', error);
  }
}

searchCard('ë¸”ë™ ë§¤ì§€ì…˜');
```

**ìµœì  êµ¬ë§¤ ì¡°í•©Â ê³„ì‚°**

```jsx
async function calculateOptimalPurchase(cards) {
  try {
    const response = await fetch('http://localhost:5000/api/cards/optimal-purchase', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ cards })
    });
    
    const data = await response.json();
    
    if (data.success) {
      console.log(`ì´ ë¹„ìš©: ${data.totalCost}ì›`);
      console.log(`- ìƒí’ˆ ë¹„ìš©: ${data.totalProductCost}ì›`);
      console.log(`- ë°°ì†¡ ë¹„ìš©: ${data.totalShippingCost}ì›`);
      
      console.log('\níŒë§¤ì²˜ë³„ êµ¬ë§¤ ëª©ë¡:');
      data.sellers.forEach(seller => {
        console.log(`\n${seller.name} (${seller.totalPrice}ì›):`);
        seller.cards.forEach(cardName => {
          console.log(`- ${cardName}`);
        });
      });
    } else {
      console.error(`ì˜¤ë¥˜: ${data.error}`);
    }
  } catch (error) {
    console.error('API ìš”ì²­ ì‹¤íŒ¨:', error);
  }
}

const cards = [
  { name: 'ë¸”ë™ ë§¤ì§€ì…˜', rarity: 'Ultra Rare' },
  { name: 'í‘¸ë¥¸ ëˆˆì˜ ë°±ë£¡', rarity: 'Secret Rare' },
];

calculateOptimalPurchase(cards);
```